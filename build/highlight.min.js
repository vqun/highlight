/*
 *@name     highlightJs
 *@version  v0.2.0
 *@desc     Code highlight tool
 *@author   VeeQun | https://github.com/vqun
 *@license  MIT
 *@modified 2015-05-25
 */
!function(a){a.HConfig={js:{keywords:["var","function","this","new","String"]},css:{keywords:["css","height","width","border","{","}"]},html:{keywords:["html","head","body","div"]},config:{codeType:["js","css","html"]}}}(this),function(a){function b(){c.apply(this,arguments),d.apply(this,arguments)}function c(a,b){b=b||{},this.coder=a,this.codeType=h[b.codeType]&&b.codeType||"js",this.indents=b.indents||4,this.tmpl=b.tmpl||i,this.container=b.container||null,this.originalCodes}function d(a){this.highlight(a,this.indents),this.container&&1==this.container.nodeType&&this.line().render()}function e(a){if(!a)return"";if("[object String]"==Object.prototype.toString.call(a))return""+a;var b="";if(1==a.nodeType){var c=a.tagName.toLowerCase();b="textarea"==c||"input"==c?a.value:"string"==typeof a.textContent?a.textContent:a.innerText}return b}var f=/("|')(?:[^\1]*?(?:(?:\\\\)*(?:\\"|\\')?)*[^\1]*?)*?\1/gm,g=/(?:\/\*(?:[^*]|[\r\n]|(?:\*+(?:[^(?:\*\/)]|[\r\n])))*\*+\/)|(?:\/\/.*)/gm,h={js:1,css:1,html:1},i='<li class="line">${code}</li>';a.Highlight=b,b.prototype={constructor:b,highlight:function(a,b){{var c=this.originalCodes=e(a);this.codeType}indent=b||this.indents;var d=new Array(indent+1).join("Â ");c=c.replace(/\s*$/g,"").replace(/\t/gm,d),c=this.compile(c),c=c.split(/\n|\r/gm);var f=c[c.length-1];return(/^\s+$/.test(f)||!f)&&c.pop(),this.codes=c,this},compile:function(b){function c(a){l=f.lastIndex,n=a.split("").length,p=l-n}function d(a){var b=a.slice(0,1);r.push(b+'<i class="string">'+a.slice(1,-1)+"</i>"+b),t=l-1}function e(a){m=g.lastIndex,o=a.split("").length,q=m-o}function h(a){r.push('<i class="comment">'+a+"</i>"),t=m}function i(b){for(var c,d=(c=a.HConfig[s])&&c.keywords||[],e=d.length;e--;)b=b.replace(new RegExp("("+d[e]+")","gm"),'<i class="keyword">$1</i>');r.push(b)}for(var j,k,l,m,n,o,p,q,r=[],s=this.codeType,t=0;(j=f.exec(b))&&(k=g.exec(b));)c(j[0]),e(k[0]),p>m||p>q&&m>=l?(i(b.slice(t,q)),h(k[0]),f.lastIndex=t=m):(i(b.slice(t,p)),d(j[0]),g.lastIndex=t=l);return r.push(i(b.slice(t))),f.lastIndex=0,g.lastIndex=0,r.join("")},line:function(a){this.tmpl=a||this.tmpl||i,a=this.tmpl;for(var b=[],c=this.codes,d=0,e=c.length;e>d;d++)b.push(a.replace("${code}","<pre>"+(c[d]||" ")+"</pre>"));return this.linedCodes=b,b=null,this},render:function(a){this.container=a||this.container||document.body,a=this.container;var b=a.className;return-1==b.indexOf("codeHighlight")&&(a.className+=" codeHighlight"),a.innerHTML=this.linedCodes.join(""),this},reset:function(a){a=a||this.coder;this.highlight(a);this.line().render()},update:function(){this.reset(this.coder)}}}(this);